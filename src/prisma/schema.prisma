generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Students {
  id          String                 @id @default(uuid())
  created_at  DateTime?              @default(now()) @db.Timestamptz(6)
  name        String
  leetcode_id String                 @unique
  dept        String
  batch       String
  section     String
  rating      BigInt
  college     String                 @default("'CIT'")
  contest     ContestParticipation[]
}

model ContestParticipation {
  id         String   @id @default(uuid())
  studentsId  String
  contestId  String
  rank       Int @default(0)
  created_at DateTime @default(now())

  Students Students? @relation(fields: [studentsId], references: [id])

  @@index([contestId])
  @@index([studentsId])
}
